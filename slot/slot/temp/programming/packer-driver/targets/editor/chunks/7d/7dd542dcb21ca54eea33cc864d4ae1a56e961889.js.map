{"version":3,"sources":["file:///C:/Users/eulao/OneDrive/Desktop/COCOSSLOT/cocos_slot/slot/slot/assets/scripts/controllers/GameController.ts"],"names":["_decorator","Component","Layout","Node","Animation","MusicController","GameService","FunctionUtils","gameService","functionUtils","ccclass","property","GameController","type","throttledStartGame","onLoad","throttle","startGame","bind","start","initGame","layout1","layout2","layout3","resetGameProperty","startRolling","bingoNode","audioManager","goStart","ani","handleBar1","getComponent","play"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAwBC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,I,OAAAA,I;AAAsCC,MAAAA,S,OAAAA,S;;AAClFC,MAAAA,e,iBAAAA,e;;AACAC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,a,iBAAAA,a;;;;;;;;;AACHC,MAAAA,W,GAAc;AAAA;AAAA,uC;AACdC,MAAAA,a,GAAgB;AAAA;AAAA,2C;OAGhB;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBX,U;;gCAGjBY,c,WADZF,OAAO,CAAC,gBAAD,C,UAGHC,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACX;AAAN,OAAD,C,UAGRS,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACX;AAAN,OAAD,C,UAGRS,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACX;AAAN,OAAD,C,UAGRS,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACV;AAAN,OAAD,C,UAGRQ,QAAQ,CAAC;AAACE,QAAAA,IAAI;AAAA;AAAA;AAAL,OAAD,C,UAGRF,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACV;AAAN,OAAD,C,2BAlBb,MACaS,cADb,SACoCX,SADpC,CAC8C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAsBlCa,kBAtBkC;AAAA;;AAyB1CC,QAAAA,MAAM,GAAG;AAEL,eAAKD,kBAAL,GAA0BL,aAAa,CAACO,QAAd,CAAuB,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAvB,EAAkD,IAAlD,CAA1B;AAEH;;AAGDC,QAAAA,KAAK,GAAG;AAEJX,UAAAA,WAAW,CAACY,QAAZ,CAAqB,KAAKC,OAA1B,EAAmC,KAAKC,OAAxC,EAAiD,KAAKC,OAAtD;AAEH;;AAEc,cAATN,SAAS,GAAE;AAEbT,UAAAA,WAAW,CAACgB,iBAAZ,CAA8B,KAAKH,OAAnC,EAA4C,KAAKC,OAAjD,EAA0D,KAAKC,OAA/D;AACA,gBAAMf,WAAW,CAACiB,YAAZ,CAAyB,KAAKC,SAA9B,EAAyC,KAAKC,YAA9C,EAA4D,KAAKN,OAAjE,EAA0E,KAAKC,OAA/E,EAAwF,KAAKC,OAA7F,CAAN;AAEH;;AAGDK,QAAAA,OAAO,GAAE;AAEL,cAAIC,GAAG,GAAG,KAAKC,UAAL,CAAgBC,YAAhB,CAA6B3B,SAA7B,CAAV;AACAyB,UAAAA,GAAG,CAACG,IAAJ,CAAS,WAAT;AACA,eAAKlB,kBAAL;AAEH;;AApDyC,O;;;;;iBAGjB,I;;;;;;;iBAGA,I;;;;;;;iBAGA,I;;;;;;;iBAGC,I;;;;;;;iBAGa,I;;;;;;;iBAGd,I","sourcesContent":["import { _decorator, Component, instantiate, Layout, Node, Prefab, resources, tween, Vec3, Animation, Label, game } from 'cc';\r\nimport { MusicController } from './MusicController';\r\nimport { GameService } from '../services/GameService';\r\nimport { FunctionUtils } from '../../utils/FunctionUtils';\r\nconst gameService = new GameService()\r\nconst functionUtils = new FunctionUtils()\r\n\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameController')\r\nexport class GameController extends Component {\r\n\r\n    @property({type:Layout})\r\n    private layout1:Layout = null\r\n\r\n    @property({type:Layout})\r\n    private layout2:Layout = null\r\n\r\n    @property({type:Layout})\r\n    private layout3:Layout = null\r\n\r\n    @property({type:Node})\r\n    private handleBar1:Node = null\r\n\r\n    @property({type:MusicController})\r\n    private audioManager:MusicController = null \r\n\r\n    @property({type:Node})\r\n    private bingoNode:Node = null\r\n\r\n\r\n\r\n    private throttledStartGame:() => void\r\n\r\n\r\n    onLoad() {\r\n\r\n        this.throttledStartGame = functionUtils.throttle(this.startGame.bind(this), 4100)\r\n\r\n    }\r\n\r\n\r\n    start() {\r\n\r\n        gameService.initGame(this.layout1, this.layout2, this.layout3)\r\n\r\n    }\r\n\r\n    async startGame(){\r\n        \r\n        gameService.resetGameProperty(this.layout1, this.layout2, this.layout3)\r\n        await gameService.startRolling(this.bingoNode, this.audioManager, this.layout1, this.layout2, this.layout3)\r\n\r\n    }\r\n\r\n\r\n    goStart(){\r\n\r\n        let ani = this.handleBar1.getComponent(Animation)\r\n        ani.play('handelbar')\r\n        this.throttledStartGame()\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n"]}